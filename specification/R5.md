# R5 Test Cases

Data:

```
test_ticket = Ticket(
    owner='test_frontend@test.com',
    name='test_ticket_yo',
    quantity=10,
    price=10,
    date='20200901'
)

test_user = User(
    email='test_frontend@test.com',
    name='test_frontend',
    password=generate_password_hash('test_frontend')
)
```

#### Test case R5.1.1 - /update[post] The name of the ticket has to be alphanumeric-only - positive

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter test_ticket's name into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter test_ticket's price into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `successful`

#### Test case R5.1.2 - /update[post] The name of the ticket has to be alphanumeric-only - negative

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter `hello $$$` into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter test_ticket's price into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `please enter an alphanumeric name with no spaces on either end`

#### Test case R5.2.1 - /update[post] The name of the ticket is no longer than 60 characters - positive

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter test_ticket's name into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter test_ticket's price into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `successful`

#### Test case R5.2.2 - /update[post] The name of the ticket is no longer than 60 characters - negative

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter `thisis61characterslongaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa` into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter test_ticket's price into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `please enter a ticket name < 60 characters`

#### Test case R5.3.1 - /update[post] The quantity of the tickets has to be more than 0, and less than or equal to 100. - positive

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter test_ticket's name into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter test_ticket's price into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `successful`

#### Test case R5.3.2 - /update[post] The quantity of the tickets has to be more than 0, and less than or equal to 100. - negative

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter test_ticket's name into element `#update_name`
-   enter `0` into element `#update_quantity`
-   enter test_ticket's price into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `please enter a quantity > 0`

#### Test case R5.4.1 - /update[post] Price has to be of range [10, 100] - positive

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter test_ticket's name into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter test_ticket's quantity into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `successful`

#### Test case R5.4.2 - /update[post] Price has to be of range [10, 100] - negative

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter test_ticket's name into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter `0` into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `please enter a price that is >= 10 and <= 100`

#### Test case R5.5.1 - /update[post] Date must be given in the format YYYYMMDD - positive

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter test_ticket's name into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter test_ticket's quantity into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `successful`

#### Test case R5.5.2 - /update[post] Date must be given in the format YYYYMMDD - negative

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter test_ticket's name into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter test_ticket's price into element `#update_price`
-   enter `123456789` into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `please enter a date in form YYYYMMDD`

#### Test case R5.6.1 - /update[post] The ticket of the given name must exist - positive

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter test_ticket's name into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter test_ticket's quantity into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `successful`

#### Test case R5.6.2 - /update[post] The ticket of the given name must exist - negative

Mocking:

-   Mock backend.get_user to return a test_user instance

Actions:

-   open /logout (to invalidate any logged-in sessions that may exist)
-   open /login
-   enter test_user's email into element `#email`
-   enter test_user's password into element `#password`
-   click element `input[type="submit"]`
-   open /update
-   enter `fake_ticket_name` into element `#update_name`
-   enter test_ticket's quantity into element `#update_quantity`
-   enter test_ticket's quantity into element `#update_price`
-   enter test_ticket's date into element `#update_date`
-   click element `#update_submit`
-   validate that the `#update_message` element shows `please enter a ticket that exists`
